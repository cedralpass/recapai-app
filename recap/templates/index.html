{% extends "base.html" %}

{% block content %}
{% if current_user.is_authenticated %}
<form action="" method="post" class="bg-white shadow-lg rounded px-2 pt-4 pb-4 mb-2">
    {{ form.hidden_tag() }}
    <div class="flex flex-nowrap">
        <div class="flex-grow">
            <h1 class="font-bold text-lg">{{ form.url_path.label }}</h1>
            {{ form.url_path(class_="flex-auto w-80") }} {{ form.submit(class_="align-middle") }}<br>
            {% for error in form.url_path.errors %}
            <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </div>
    </div>
</form>
<div class="container w-96 p-2">
    <ul class="flex flex-row flex-wrap  text-sm text-center">
        {% if groupings is not none %}
        <li class="flex-1 h-12 m-1 p-1 bg-gray-200 text-sm"><a
            href="{{ url_for('routes.index' )}}">All</a></li>
        {% for grouping in groupings %}
        <li class="flex-1 h-12 m-1 p-1 bg-gray-200 text-sm text-center"><a
                href="{{ url_for('routes.index', category=grouping.category )}}">{{grouping.category}}({{grouping.count}})</a>
        </li>
        {% endfor %}
        {% endif %}
    </ul>
</div>


{% include '_article.html' %}

{% else %}
<h1>Hello and Welcome!</h1>
<div>We are building fast! comeback soon!</div>
{% endif %}
{% endblock %}